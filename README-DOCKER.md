# ๐ณ Docker ัะฐะทะฒะตัััะฒะฐะฝะธะต ะฟัะพะตะบัะฐ Forel

## ๐ฏ ะะฑะทะพั

ะญัะพั ะฟัะพะตะบั ัะตะฟะตัั ะฟะพะดะดะตัะถะธะฒะฐะตั ัะฐะทะฒะตัััะฒะฐะฝะธะต ั ะฟะพะผะพััั Docker! Docker ะทะฝะฐัะธัะตะปัะฝะพ ัะฟัะพัะฐะตั ะฟัะพัะตัั ัะฐะทะฒะตัััะฒะฐะฝะธั ะธ ะพะฑะตัะฟะตัะธะฒะฐะตั ะบะพะฝัะธััะตะฝัะฝะพััั ะผะตะถะดั ัะฐะทะปะธัะฝัะผะธ ััะตะดะฐะผะธ.

## ๐ ะกัััะบัััะฐ Docker ัะฐะนะปะพะฒ

```
project-forel/
โโโ docker-compose.yml                 # ะัะฝะพะฒะฝะพะน docker-compose
โโโ .dockerignore                      # ะัะบะปััะตะฝะธั ะดะปั Docker
โโโ api-server/
โ   โโโ Dockerfile                     # Production ะพะฑัะฐะท API
โ   โโโ Dockerfile.dev                 # Development ะพะฑัะฐะท API
โโโ telegram-bot/
โ   โโโ Dockerfile                     # Production ะพะฑัะฐะท ะฑะพัะฐ
โ   โโโ Dockerfile.dev                 # Development ะพะฑัะฐะท ะฑะพัะฐ
โโโ my-project-web/
โ   โโโ Dockerfile                     # Production ะพะฑัะฐะท ะฒะตะฑ-ัะฐะนัะฐ
โ   โโโ Dockerfile.dev                 # Development ะพะฑัะฐะท ะฒะตะฑ-ัะฐะนัะฐ
โ   โโโ nginx.conf                     # ะะพะฝัะธะณััะฐัะธั nginx
โโโ my-project/
โ   โโโ Dockerfile                     # Production ะพะฑัะฐะท WebApp
โ   โโโ Dockerfile.dev                 # Development ะพะฑัะฐะท WebApp
โ   โโโ nginx.conf                     # ะะพะฝัะธะณััะฐัะธั nginx
โโโ deploy/
    โโโ docker-compose.prod.yml        # Production ะบะพะฝัะธะณััะฐัะธั
    โโโ docker-compose.dev.yml         # Development ะบะพะฝัะธะณััะฐัะธั
    โโโ docker-start.sh                # ะกะบัะธะฟั ะทะฐะฟััะบะฐ production
    โโโ docker-stop.sh                 # ะกะบัะธะฟั ะพััะฐะฝะพะฒะบะธ
    โโโ docker-status.sh               # ะกะบัะธะฟั ะฟัะพะฒะตัะบะธ ััะฐัััะฐ
    โโโ docker-dev.sh                  # ะกะบัะธะฟั ะทะฐะฟััะบะฐ development
    โโโ README-DOCKER.md               # ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
```

## ๐ ะัััััะน ััะฐัั

### Production ัะฐะทะฒะตัััะฒะฐะฝะธะต

1. **ะะปะพะฝะธััะนัะต ะฟัะพะตะบั:**
```bash
git clone <your-repository-url>
cd project-forel
```

2. **ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:**
```bash
cd deploy
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป
```

3. **ะะฐะฟัััะธัะต ะฟัะพะตะบั:**
```bash
chmod +x *.sh
./docker-start.sh
```

### Development ัะฐะทะฒะตัััะฒะฐะฝะธะต

1. **ะะปะพะฝะธััะนัะต ะฟัะพะตะบั:**
```bash
git clone <your-repository-url>
cd project-forel
```

2. **ะะฐะฟัััะธัะต ะฒ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ:**
```bash
cd deploy
chmod +x *.sh
./docker-dev.sh
```

## ๐ง ะฃะฟัะฐะฒะปะตะฝะธะต

### Production ะบะพะผะฐะฝะดั

```bash
# ะะฐะฟััะบ
cd deploy && ./docker-start.sh

# ะััะฐะฝะพะฒะบะฐ
cd deploy && ./docker-stop.sh

# ะกัะฐััั
cd deploy && ./docker-status.sh

# ะะพะณะธ
docker-compose -f deploy/docker-compose.prod.yml logs -f [service]
```

### Development ะบะพะผะฐะฝะดั

```bash
# ะะฐะฟััะบ
cd deploy && ./docker-dev.sh

# ะััะฐะฝะพะฒะบะฐ
docker-compose -f deploy/docker-compose.dev.yml down

# ะกัะฐััั
docker-compose -f deploy/docker-compose.dev.yml ps

# ะะพะณะธ
docker-compose -f deploy/docker-compose.dev.yml logs -f [service]
```

## ๐ ะะพัััะฟะฝัะต ัะตัะฒะธัั

### Production
- **ะะตะฑ-ัะฐะนั**: http://localhost (ะธะปะธ https://forelrest.com)
- **Telegram WebApp**: http://localhost:8081 (ะธะปะธ https://telegram.forelrest.com)
- **API**: http://localhost:3001/api
- **ะะดะผะธะฝะบะฐ**: http://localhost/admin (ะบะพะด: 0202)

### Development
- **ะะตะฑ-ัะฐะนั**: http://localhost:3000
- **Telegram WebApp**: http://localhost:8081
- **API**: http://localhost:3001/api
- **ะะดะผะธะฝะบะฐ**: http://localhost:3000/admin (ะบะพะด: 0202)

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Nginx Proxy   โ    โ   Web App       โ    โ  Telegram WebAppโ
โ   (Port 80/443) โ    โ   (Port 8080)   โ    โ  (Port 8081)    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ   API Server    โ
                    โ   (Port 3001)   โ
                    โโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ  Telegram Bot   โ
                    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะพะฒ
```bash
# ะกัะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
docker-compose -f deploy/docker-compose.prod.yml ps

# ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ
docker stats

# ะะพะณะธ
docker-compose -f deploy/docker-compose.prod.yml logs --tail=50
```

## ๐ ะะฑะฝะพะฒะปะตะฝะธะต

### ะะฑะฝะพะฒะปะตะฝะธะต ะบะพะดะฐ
```bash
# ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฟัะพะตะบั
cd deploy && ./docker-stop.sh

# ะะฑะฝะพะฒะปัะตะผ ะบะพะด
git pull origin main

# ะะตัะตัะพะฑะธัะฐะตะผ ะธ ะทะฐะฟััะบะฐะตะผ
./docker-start.sh
```

### ะะฑะฝะพะฒะปะตะฝะธะต ะพะฑัะฐะทะพะฒ
```bash
# ะฃะดะฐะปัะตะผ ััะฐััะต ะพะฑัะฐะทั
docker-compose -f deploy/docker-compose.prod.yml down --rmi all

# ะะตัะตัะพะฑะธัะฐะตะผ ะพะฑัะฐะทั
docker-compose -f deploy/docker-compose.prod.yml up --build -d
```

## ๐๏ธ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะัะปะธ ะบะพะฝัะตะนะฝะตัั ะฝะต ะทะฐะฟััะบะฐัััั
```bash
# ะัะพะฒะตััะตะผ ะปะพะณะธ
docker-compose -f deploy/docker-compose.prod.yml logs

# ะัะพะฒะตััะตะผ ััะฐััั
docker-compose -f deploy/docker-compose.prod.yml ps

# ะะตัะตะทะฐะฟััะบะฐะตะผ
docker-compose -f deploy/docker-compose.prod.yml restart
```

### ะัะปะธ ะฟะพััั ะทะฐะฝััั
```bash
# ะัะพะฒะตััะตะผ ะทะฐะฝัััะต ะฟะพััั
sudo netstat -tlnp | grep -E ':(80|443|3001|8080|8081)'

# ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะบะพะฝัะปะธะบััััะธะต ัะตัะฒะธัั
sudo systemctl stop nginx  # ะตัะปะธ ะทะฐะฟััะตะฝ
sudo systemctl stop apache2  # ะตัะปะธ ะทะฐะฟััะตะฝ
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ะัะต ัะตัะฒะธัั ัะฐะฑะพัะฐัั ะฒ ะธะทะพะปะธัะพะฒะฐะฝะฝัั ะบะพะฝัะตะนะฝะตัะฐั
- Nginx ะฝะฐัััะพะตะฝ ั ะฑะฐะทะพะฒัะผะธ ะทะฐะณะพะปะพะฒะบะฐะผะธ ะฑะตะทะพะฟะฐัะฝะพััะธ
- JWT ัะพะบะตะฝั ะธัะฟะพะปัะทััััั ะดะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ
- SSL/TLS ัะธััะพะฒะฐะฝะธะต ะดะปั HTTPS ัะพะตะดะธะฝะตะฝะธะน
- ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะปั ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั

## ๐ ะงะตะบ-ะปะธัั

- [ ] Docker ัััะฐะฝะพะฒะปะตะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] Docker Compose ัััะฐะฝะพะฒะปะตะฝ
- [ ] ะัะพะตะบั ัะบะปะพะฝะธัะพะฒะฐะฝ
- [ ] ะคะฐะนะป .env ัะพะทะดะฐะฝ ะธ ะฝะฐัััะพะตะฝ
- [ ] SSL ัะตััะธัะธะบะฐัั ะฝะฐัััะพะตะฝั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- [ ] ะะพะฝัะตะนะฝะตัั ะทะฐะฟััะตะฝั
- [ ] ะะตะฑ-ัะฐะนั ะดะพัััะฟะตะฝ
- [ ] Telegram WebApp ะดะพัััะฟะตะฝ
- [ ] API ัะฐะฑะพัะฐะตั
- [ ] Telegram ะฑะพั ัะฐะฑะพัะฐะตั
- [ ] ะะดะผะธะฝะบะฐ ะดะพัััะฟะฝะฐ

## ๐ฏ ะัะตะธะผััะตััะฒะฐ Docker

1. **ะะทะพะปััะธั**: ะะฐะถะดัะน ัะตัะฒะธั ัะฐะฑะพัะฐะตั ะฒ ัะฒะพะตะผ ะบะพะฝัะตะนะฝะตัะต
2. **ะะพะฝัะธััะตะฝัะฝะพััั**: ะะดะธะฝะฐะบะพะฒะฐั ััะตะดะฐ ะฝะฐ ะฒัะตั ะผะฐัะธะฝะฐั
3. **ะัะพััะพัะฐ ัะฐะทะฒะตัััะฒะฐะฝะธั**: ะะดะธะฝ ะบะพะผะฐะฝะดะฐ ะดะปั ะทะฐะฟััะบะฐ ะฒัะตะณะพ ะฟัะพะตะบัะฐ
4. **ะะฐัััะฐะฑะธััะตะผะพััั**: ะะตะณะบะพ ะดะพะฑะฐะฒะปััั ะฝะพะฒัะต ัะบะทะตะผะฟะปััั ัะตัะฒะธัะพะฒ
5. **ะะตััะธะพะฝะธัะพะฒะฐะฝะธะต**: ะะฐะถะดะฐั ะฒะตััะธั ะฟัะธะปะพะถะตะฝะธั ะธะทะพะปะธัะพะฒะฐะฝะฐ
6. **ะัะบะฐั**: ะัััััะน ะพัะบะฐั ะบ ะฟัะตะดัะดััะตะน ะฒะตััะธะธ
7. **ะะพะฝะธัะพัะธะฝะณ**: ะัััะพะตะฝะฝัะต ะธะฝััััะผะตะฝัั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:

1. ะัะพะฒะตัััะต ะปะพะณะธ: `docker-compose -f deploy/docker-compose.prod.yml logs -f [service]`
2. ะัะพะฒะตัััะต ััะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ: `docker-compose -f deploy/docker-compose.prod.yml ps`
3. ะัะพะฒะตัััะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ: `docker stats`
4. ะะฑัะฐัะธัะตัั ะบ ะดะพะบัะผะตะฝัะฐัะธะธ Docker: https://docs.docker.com/

## ๐ ะะพะปะตะทะฝัะต ัััะปะบะธ

- [Docker Documentation](https://docs.docker.com/)
- [Docker Compose Documentation](https://docs.docker.com/compose/)
- [Nginx Documentation](https://nginx.org/en/docs/)
- [Node.js Docker Images](https://hub.docker.com/_/node)
