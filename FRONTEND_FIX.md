# Исправление проблем фронтенда

## Проблемы, которые были исправлены

### 1. Кодировка файлов
- ❌ **Проблема**: Файлы сохранены в Windows-1251 вместо UTF-8
- ✅ **Решение**: Конвертация всех файлов в UTF-8

### 2. Неправильные API запросы
- ❌ **Было**: `fetch('/api/api/menu')` - двойной префикс
- ✅ **Стало**: `fetch('/api/menu')` - правильный путь

### 3. Неправильная валюта
- ❌ **Было**: `{item.price} ?` - отображается как вопросительный знак
- ✅ **Стало**: `{item.price} TJS` - правильная валюта

## Что было исправлено

### AdminMenuManager.tsx
- ✅ Исправлена кодировка всех русских текстов
- ✅ Исправлены API запросы с `/api/api/` на `/api/`
- ✅ Исправлена валюта с `?` на `TJS`
- ✅ Исправлены все комментарии и сообщения об ошибках

### Другие файлы
- ✅ Создан скрипт для автоматической конвертации всех файлов фронтенда

## План действий

### Шаг 1: Конвертация кодировки файлов
```bash
chmod +x fix-frontend-encoding.sh
./fix-frontend-encoding.sh
```

### Шаг 2: Проверка в редакторе
Откройте файлы в VSCode/WebStorm и убедитесь, что:
- Русский текст отображается корректно
- Нет "кракозябр" ()
- Все комментарии читаемы

### Шаг 3: Пересборка фронтенда
```bash
# Для my-project-web
cd my-project-web
npm run build

# Для my-project
cd my-project
npm run build
```

### Шаг 4: Перезапуск контейнеров
```bash
docker-compose -f docker-compose.prod.yml restart web-app telegram-webapp
```

## Проверка результата

После исправления:
- ✅ Админ-панель отображает русский текст корректно
- ✅ API запросы работают без ошибок 404
- ✅ Цены отображаются с правильной валютой (TJS)
- ✅ Все формы и сообщения на русском языке

## Если проблемы остаются

1. **Проверьте кодировку в редакторе:**
   - VSCode: File → Save with Encoding → UTF-8
   - WebStorm: File → File Encoding → UTF-8

2. **Проверьте консоль браузера:**
   - F12 → Console
   - Ищите ошибки 404 в Network tab

3. **Проверьте логи контейнеров:**
   ```bash
   docker logs forel-web-app
   docker logs forel-telegram-webapp
   ```

## Дополнительные рекомендации

1. **Настройте редактор на UTF-8 по умолчанию**
2. **Используйте .editorconfig для единообразия кодировки**
3. **Добавьте проверку кодировки в CI/CD**
